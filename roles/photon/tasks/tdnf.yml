#
# Default Package Installs
#
---

#
#  Update Repo Cache
#
- name: Update tdnf Repository cache
  tdnf:    
    update_cache: yes

#
# Update packages to the latest release of photon
#
- name: Update installed Photon packages to latest distribution
  command: tdnf -y distro-sync
  when: tdnf_config.distrosync

#
# Update all existing packages
#
- name: "Update all existing packages"
  tdnf:
    upgrade: yes
    update_cache: yes

#
# Install additional packages
#
- name: Add additional packages
  tdnf:
    name: "{{ tdnf_config.packages }}"
    state: present
  when:
    - tdnf_config.packages
    - tdnf_config.packages|length > 0